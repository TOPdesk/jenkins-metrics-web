include ../mixins/scripts

div(class="#{metric}-container")
  canvas.chart(id="#{jobName}-#{metric}-chart")
  block additionalData
  +onDocumentReady
    | var chart = !{JSON.stringify(chart)};
    | var container = $('##{jobName}-#{metric}-chart');
    block chartCustomization
    if chart.type === 'bar' && isFirefox
      include scripts/barChartFirefoxAnimationHack.js
    else
      | new Chart(container, chart);
